<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marketing Intelligence App - V5.5</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .modal-overlay { transition: opacity 0.3s ease; }
        .modal-container { transition: transform 0.3s ease; }
        .animate-pulse-slow { animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes pulse { 50% { opacity: .5; } }
        .tab-active {
            border-bottom-color: #4f46e5; /* indigo-600 */
            color: #1f2937; /* gray-800 */
            font-weight: 600;
        }
        .tab-inactive {
            border-bottom-color: transparent;
            color: #6b7280; /* gray-500 */
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div id="app" class="min-h-screen flex flex-col">
        <!-- Header -->
        <header class="bg-white shadow-sm">
            <div class="max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8 flex justify-between items-center">
                <h1 class="text-2xl font-bold text-gray-900">Marketing Intelligence</h1>
                <div class="flex items-center space-x-4">
                    <span class="text-sm">Hoş geldin, Merve!</span>
                    <img class="h-8 w-8 rounded-full" src="https://placehold.co/100x100/E2E8F0/4A5568?text=M" alt="Merve Profil Fotoğrafı">
                </div>
            </div>
        </header>

        <main class="flex-grow">
            <div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
                
                <!-- Navigasyon Menüsü (Tablar) -->
                <div id="nav-container" class="border-b border-gray-200 mb-6 hidden">
                    <nav id="nav-tabs" class="-mb-px flex space-x-8" aria-label="Tabs">
                        <!-- Tablar JavaScript ile buraya eklenecek -->
                    </nav>
                </div>

                <!-- GÖRÜNÜMLER İÇİN KONTEYNER -->
                <div id="setup-view" class="hidden"></div>
                <div id="dashboard-view" class="hidden"></div>
                <div id="journeys-view" class="hidden"></div>
                <div id="channels-view" class="hidden"></div>
                <div id="products-view" class="hidden"></div>

            </div>
        </main>
    </div>

    <!-- Onay Modalı (Pop-up) -->
    <div id="confirmation-modal" class="modal-overlay fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden" onclick="App.closeModal()">
        <div class="modal-container bg-white w-full max-w-md rounded-lg shadow-lg p-6 transform scale-95" onclick="event.stopPropagation()">
            <h3 id="modal-title" class="text-xl font-bold text-gray-900">Onay</h3>
            <p id="modal-body" class="mt-2 text-gray-600">Bu işlemi onaylıyor musunuz?</p>
            <div class="mt-6 flex justify-end space-x-4">
                <button onclick="App.closeModal()" class="px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300">İptal</button>
                <button id="modal-confirm-button" onclick="App.confirmAction()" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Evet, Onayla</button>
            </div>
        </div>
    </div>

    <script>
        // ===================================================================================
        // UYGULAMA BEYNİ (JAVASCRIPT KODU)
        // ===================================================================================
        const App = {
            // 1. UYGULAMA DURUMU (STATE)
            state: {
                currentView: 'setup', // 'setup', 'dashboard', 'journeys', 'channels', 'products'
                integrations: {
                    shopify: { name: 'Shopify', connected: false, logo: '<svg class="w-12 h-12" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Shopify</title><path d="M13.283 3.292c-2.422 1.33-3.838 3.868-3.838 6.613 0 1.29.308 2.503.857 3.587l-.003.004.002.003c.532 1.056 1.32 1.961 2.28 2.648l.003.002.002.001c.942.673 2.028 1.123 3.195 1.302l.004.001.004.001c1.18.18 2.383-.01 3.507-.535l.004-.002.003-.001c1.155-.54 2.15-1.36 2.91-2.395l.003-.004.002-.003c.787-1.072 1.31-2.345 1.49-3.72l.001-.004.001-.004V10.22c-.01-4.08-2.36-7.74-5.91-9.63l-.004-.002-.004-.002c-1.18-.63-2.5-.96-3.86-.96-1.39 0-2.75.35-3.99.99zm-1.43 11.898c-.02-.03-.04-.06-.06-.09l-.003-.005c-.5-1-1.2-1.8-2.07-2.38l-.004-.002-.003-.002c-2.4-1.6-3.8-4.4-3.8-7.3 0-1.3.3-2.5 1-3.6l.002-.003.003-.004c.5-1 1.2-1.8 2.1-2.4l.003-.002.003-.002c2.4-1.6 5.4-2 8.1-.9l.004.001.004.002c-1.9 4.2-6.2 7.2-11.2 7.2h-2.2z" fill="#7AB55C"/></svg>', color: 'green' },
                    ga4: { name: 'Google Analytics 4', connected: false, logo: '<svg class="w-10 h-10" viewBox="0 0 100 120" xmlns="http://www.w3.org/2000/svg"><rect x="25" y="50" width="15" height="50" rx="7.5" fill="#F4A032"/><rect x="50" y="25" width="15" height="75" rx="7.5" fill="#F4A032"/><rect x="75" y="75" width="15" height="25" rx="7.5" fill="#F4A032"/></svg>', color: 'orange' },
                    google_ads: { name: 'Google Ads', connected: false, logo: '<svg class="w-12 h-12" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.24 12.24l-2.48 2.48-2.48-2.48-2.48 2.48-4.76-4.76 4.76-4.76 2.48 2.48 2.48-2.48 2.48 2.48 4.76 4.76-4.76 4.76z" fill="#4285F4"/><path d="M16.92 14.72l-2.48-2.48 2.48-2.48 4.76-4.76v14.48l-4.76-4.76z" fill="#34A853"/><path d="M7.28 9.52l2.48 2.48-2.48 2.48-4.76 4.76V2.52l4.76 4.76z" fill="#FBBC05"/><path d="M9.76 12.24l2.48-2.48 2.48 2.48-2.48 2.48-2.48-2.48z" fill="#EA4335"/></svg>', color: 'blue' },
                    meta: { name: 'Meta', connected: false, logo: '<svg class="w-12 h-12" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm3.64 16.5c-.247 1.47-1.42 2.643-2.89 2.89-1.85.31-6.39.31-8.24 0-1.47-.247-2.643-1.42-2.89-2.89-.31-1.85-.31-6.39 0-8.24.247-1.47 1.42-2.643 2.89-2.89 1.85-.31 6.39-.31 8.24 0 1.47.247 2.643 1.42 2.89 2.89.31 1.85.31 6.39 0 8.24z" fill="#0062E0"/><path d="M9.75 14.75V9.25l4.5 2.75-4.5 2.75z" fill="#0062E0"/></svg>', color: 'indigo' },
                    tiktok: { name: 'TikTok', connected: false, logo: '<svg class="w-10 h-10" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.53.02C13.84 0 15.14.01 16.44 0c.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.01-1.58-.01-3.16 0-4.75l-.04 1.28c-1.47.6-2.93 1.21-4.4 1.79v4.54c1.38-.47 2.76-.93 4.14-1.39v4.26c-1.45.48-2.9.95-4.35 1.42V24c-1.59 0-3.19 0-4.78 0 .01-1.23.01-2.45 0-3.68-.92-.33-1.85-.64-2.78-.94-.01-1.57.01-3.14-.01-4.71.9-.3 1.8-.6 2.7-.9v4.52c1.46.63 2.92 1.26 4.38 1.87V4.27C9.53 3.2 8.52 2.14 7.5 1.04 8.91.65 10.79.33 12.53.02z" fill="#000000"/></svg>', color: 'black' }
                },
                customers: [],
                selectedCustomerId: null,
                recommendations: [],
                channelData: {},
                productData: [],
                currentAction: null
            },

            // 2. BAŞLATMA FONKSİYONU (INIT)
            init() {
                console.log("Uygulama V5.4 başlatılıyor...");
                this.render();
            },
            
            // Veri Getirme Simülasyonu
            fetchData() {
                // Bu fonksiyon artık tüm sahte verileri getirir
                // ... (Önceki versiyonla aynı, uzunluk için kaldırıldı)
            },

            // 3. EKRANI YENİLEME FONKSİYONU (RENDER)
            render() {
                const views = ['setup-view', 'dashboard-view', 'journeys-view', 'channels-view', 'products-view'];
                views.forEach(viewId => {
                    document.getElementById(viewId).classList.toggle('hidden', this.state.currentView !== viewId.replace('-view', ''));
                });
                
                document.getElementById('nav-container').classList.toggle('hidden', this.state.currentView === 'setup');

                if (this.state.currentView === 'setup') this.renderSetupView();
                else {
                    this.renderTabs();
                    if (this.state.currentView === 'dashboard') this.renderDashboard();
                    else if (this.state.currentView === 'journeys') this.renderJourneysView();
                    else if (this.state.currentView === 'channels') this.renderChannelsView();
                    else if (this.state.currentView === 'products') this.renderProductsView();
                }
            },
            
            renderSetupView() {
                const container = document.getElementById('setup-view');
                let cardsHTML = '';
                for (const key in this.state.integrations) {
                    const integration = this.state.integrations[key];
                    
                    const buttonColorClass = integration.color === 'black' 
                        ? 'bg-black hover:bg-gray-800' 
                        : `bg-${integration.color}-600 hover:bg-${integration.color}-700`;

                    cardsHTML += `
                        <div id="card-${key}" class="border ${integration.connected ? `border-${integration.color}-500 bg-${integration.color}-50` : 'border-gray-200'} rounded-lg p-6 flex flex-col items-center justify-between space-y-4 transition-all duration-300">
                            <div class="h-16 flex items-center justify-center">
                                ${integration.logo}
                            </div>
                            <h3 class="text-lg font-semibold text-center h-12 flex items-center justify-center">${integration.name}</h3>
                            <button onclick="App.connect('${key}')" class="w-full ${integration.connected ? 'bg-gray-400 cursor-not-allowed' : buttonColorClass} text-white font-bold py-2 px-4 rounded-lg transition duration-300" ${integration.connected ? 'disabled' : ''}>
                                ${integration.connected ? '✓ Bağlandı' : 'Bağlan'}
                            </button>
                        </div>
                    `;
                }

                container.innerHTML = `
                    <div class="bg-white p-8 rounded-lg shadow space-y-6">
                        <div class="text-center">
                            <h2 class="text-2xl font-bold">Platforma Hoş Geldiniz!</h2>
                            <p class="text-gray-600 mt-2">Başlamak için lütfen tüm veri kaynaklarınızı bağlayın.</p>
                        </div>
                        <div id="integration-cards" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6">
                            ${cardsHTML}
                        </div>
                        <div id="analysis-message" class="hidden text-center pt-6">
                            <div class="animate-pulse-slow inline-block">
                                <svg class="w-12 h-12 text-teal-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M12 6V3m0 18v-3M5.636 5.636l-1.414-1.414M19.778 19.778l-1.414-1.414M18.364 5.636l1.414-1.414M4.222 19.778l1.414-1.414"></path></svg>
                            </div>
                            <h3 class="text-xl font-semibold mt-4">Harika! Verilerinizi analiz etmeye başladık.</h3>
                            <p class="text-gray-600 mt-2">24 saat içinde ilk içgörülerinizi burada göreceksiniz. Ana panele yönlendiriliyorsunuz...</p>
                        </div>
                    </div>`;
                container.classList.remove('hidden');
            },

            renderTabs() {
                const tabs = [
                    { id: 'dashboard', name: 'Ana Panel' },
                    { id: 'journeys', name: 'Müşteri Yolculukları' },
                    { id: 'channels', name: 'Kanallar' },
                    { id: 'products', name: 'Ürünler' }
                ];
                const container = document.getElementById('nav-tabs');
                container.innerHTML = '';
                tabs.forEach(tab => {
                    const isActive = this.state.currentView === tab.id;
                    container.innerHTML += `<a href="#" onclick="App.switchView('${tab.id}')" class="py-4 px-1 border-b-2 text-sm ${isActive ? 'tab-active' : 'tab-inactive'}">${tab.name}</a>`;
                });
            },

            // Diğer render fonksiyonları (dashboard, journeys, channels, products) öncekiyle aynı
            renderDashboard() { /* Öncekiyle aynı, uzunluk için kaldırıldı */ },
            renderJourneysView() { /* Öncekiyle aynı, uzunluk için kaldırıldı */ },
            renderChannelsView() { /* Öncekiyle aynı, uzunluk için kaldırıldı */ },
            renderProductsView() { /* Öncekiyle aynı, uzunluk için kaldırıldı */ },

            // AKSİYONLAR
            switchView(viewName) {
                this.state.currentView = viewName;
                this.render();
            },
            
            connect(platformKey) {
                const button = document.querySelector(`#card-${platformKey} button`);
                button.disabled = true;
                button.innerHTML = '<span class="animate-pulse">Bağlanıyor...</span>';
                
                setTimeout(() => {
                    this.state.integrations[platformKey].connected = true;
                    this.render(); 
                    
                    const allConnected = Object.values(this.state.integrations).every(p => p.connected);
                    
                    if (allConnected) {
                        const analysisMessage = document.getElementById('analysis-message');
                        if(analysisMessage) analysisMessage.classList.remove('hidden');
                        
                        setTimeout(() => {
                            this.state.currentView = 'dashboard';
                            this.fetchData();
                        }, 3000);
                    }
                }, 2000);
            },
            
            // Diğer aksiyonlar (selectCustomer, openModal, closeModal, confirmAction) öncekiyle aynı
            selectCustomer(customerId) { /* Öncekiyle aynı */ },
            openModal(recId, title, body) { /* Öncekiyle aynı */ },
            closeModal() { /* Öncekiyle aynı */ },
            confirmAction() { /* Öncekiyle aynı */ }
        };
        
        // Önceki versiyonlardaki render ve aksiyon fonksiyonlarını buraya kopyalıyoruz
        // Bu, kodun tekrarını önlemek için yapılmıştır.
        App.fetchData = function() { setTimeout(() => { this.state.customers = [ { id: 1, email: 'ayse.y@example.com', totalSpend: 450, date: '1 saat önce', journey: [{ event: 'Meta Reklamı Tıkladı', detail: 'Yaz Koleksiyonu Kampanyası', date: '3 gün önce', icon: 'M' }, { event: 'Siteyi Ziyaret Etti', detail: '5 sayfa gezdi', date: '3 gün önce', icon: '🌐' }, { event: 'Sepete Ekledi', detail: 'Yüksek Bel Siyah Bikini', date: '1 gün önce', icon: '🛒' }, { event: 'Satın Aldı', detail: 'Sipariş #1058', date: '1 saat önce', icon: '✅' }] }, { id: 2, email: 'burak.c@example.com', totalSpend: 280, date: '8 saat önce', journey: [{ event: 'Google Reklamı Tıkladı', detail: 'Bikini Modelleri Araması', date: '2 gün önce', icon: 'G' }, { event: 'Satın Aldı', detail: 'Sipariş #1057', date: '8 saat önce', icon: '✅' }] }, { id: 3, email: 'canan.s@example.com', totalSpend: 620, date: '1 gün önce', journey: [{ event: 'Siteyi Ziyaret Etti', detail: 'Organik Trafik', date: '5 gün önce', icon: '🌐' }, { event: 'E-posta Bültenine Kaydoldu', detail: 'Hoş geldin indirimi', date: '4 gün önce', icon: '✉️' }, { event: 'E-postayı Tıkladı', detail: 'Yeni Sezon Kampanyası', date: '1 gün önce', icon: '🖱️' }, { event: 'Satın Aldı', detail: 'Sipariş #1056', date: '1 gün önce', icon: '✅' }] } ]; this.state.selectedCustomerId = this.state.customers[0]?.id; this.state.recommendations = [ { id: 1, type: 'opportunity', title: 'Fırsat: Yüksek Performanslı Reklam', description: '"Yüksek Bel Siyah Bikini" için yürüttüğünüz Instagram reklamı son 3 günde **7.2x ROAS** getirdi. Bu reklamın günlük bütçesini 150 TL\'den 250 TL\'ye çıkararak potansiyeli artırmanızı öneriyoruz.', action: { title: 'Bütçeyi Artır', body: 'Bu reklamın günlük bütçesi 150 TL\'den 250 TL\'ye çıkarılacak. Onaylıyor musunuz?' } }, { id: 2, type: 'risk', title: 'Risk: Para Yakan Kampanya', description: '"Plaj Çantası" için yürüttüğünüz Google Ads kampanyası son 48 saattir kârlılığın altında (**0.8x ROAS**). Bu kampanyayı geçici olarak duraklatarak bütçenizi korumanızı öneriyoruz.', action: { title: 'Kampanyayı Duraklat', body: 'Bu kampanya geçici olarak duraklatılacak. Onaylıyor musunuz?' } }, { id: 3, type: 'insight', title: 'İçgörü: Müşteri Davranışı', description: 'Verilerinize göre, sitenizi mobil cihazdan ziyaret eden müşterilerin dönüşüm oranı, masaüstü kullanıcılardan **%35 daha yüksek**. Mobil reklamlarınıza ağırlık vermeyi düşünebilirsiniz.', action: null } ]; this.state.channelData = { google: { name: 'Google Ads', spend: 4200, revenue: 21000, roas: 5.0, conversions: 45, cpc: 3.50 }, meta: { name: 'Meta Ads', spend: 7000, revenue: 27750, roas: 3.96, conversions: 62, cpc: 2.80 } }; this.state.productData = [ { id: 1, name: 'Yüksek Bel Siyah Bikini', img: 'https://placehold.co/40x40/111827/FFFFFF?text=B', totalRevenue: 18500, googleRevenue: 6500, metaRevenue: 12000 }, { id: 2, name: 'Tropikal Desenli Tek Parça', img: 'https://placehold.co/40x40/10B981/FFFFFF?text=T', totalRevenue: 12200, googleRevenue: 4000, metaRevenue: 8200 }, { id: 3, name: 'Kırmızı Üçgen Bikini', img: 'https://placehold.co/40x40/EF4444/FFFFFF?text=K', totalRevenue: 9800, googleRevenue: 7800, metaRevenue: 2000 }, { id: 4, name: 'Plaj Çantası', img: 'https://placehold.co/40x40/F59E0B/FFFFFF?text=Ç', totalRevenue: 8250, googleRevenue: 3000, metaRevenue: 5250 }, ]; this.render(); }, 500); };
        App.renderDashboard = function() { const container = document.getElementById('dashboard-view'); container.innerHTML = `<div id="summary-metrics" class="grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3"></div><div class="mt-8"><h3 class="text-xl font-semibold text-gray-900">Bugünün Aksiyon Önerileri</h3><div id="recommendations-container" class="mt-4 bg-white shadow rounded-lg p-6 space-y-6"></div></div>`; this.renderSummaryMetrics(); this.renderRecommendations(); };
        App.renderJourneysView = function() { const container = document.getElementById('journeys-view'); container.innerHTML = `<div class="grid grid-cols-1 md:grid-cols-3 gap-8"><div class="md:col-span-1 bg-white shadow rounded-lg p-4"><h3 class="text-lg font-semibold text-gray-900 mb-4">Son Müşteriler</h3><ul id="customer-list" class="space-y-2"></ul></div><div id="customer-journey-detail" class="md:col-span-2 bg-white shadow rounded-lg p-6"></div></div>`; this.renderCustomerList(); this.renderCustomerJourneyDetail(); };
        App.renderChannelsView = function() { const container = document.getElementById('channels-view'); if (Object.keys(this.state.channelData).length === 0) { container.innerHTML = `<p class="text-center text-gray-500">Kanal verileri yükleniyor...</p>`; return; } let content = '<div class="grid grid-cols-1 lg:grid-cols-2 gap-8">'; for(const key in this.state.channelData) { const channel = this.state.channelData[key]; content += `<div class="bg-white shadow rounded-lg p-6"><h3 class="text-2xl font-bold text-gray-900 mb-4">${channel.name}</h3><div class="space-y-4"><div class="flex justify-between items-center border-b pb-2"><span class="text-gray-600">Reklam Harcaması</span><span class="font-semibold text-lg">₺${channel.spend.toLocaleString('tr-TR')}</span></div><div class="flex justify-between items-center border-b pb-2"><span class="text-gray-600">Getirilen Ciro</span><span class="font-semibold text-lg">₺${channel.revenue.toLocaleString('tr-TR')}</span></div><div class="flex justify-between items-center border-b pb-2"><span class="text-gray-600">Reklam Kârlılığı (ROAS)</span><span class="font-bold text-xl ${channel.roas > 4 ? 'text-green-600' : 'text-orange-500'}">${channel.roas.toFixed(2)}x</span></div><div class="flex justify-between items-center border-b pb-2"><span class="text-gray-600">Dönüşüm Sayısı</span><span class="font-semibold text-lg">${channel.conversions}</span></div><div class="flex justify-between items-center"><span class="text-gray-600">Tıklama Başına Maliyet (CPC)</span><span class="font-semibold text-lg">₺${channel.cpc.toFixed(2)}</span></div></div></div>`; } content += '</div>'; container.innerHTML = content; };
        App.renderProductsView = function() { const container = document.getElementById('products-view'); if (this.state.productData.length === 0) { container.innerHTML = `<p class="text-center text-gray-500">Ürün performans verileri yükleniyor...</p>`; return; } let tableHTML = `<div class="bg-white shadow rounded-lg overflow-hidden"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ürün</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Toplam Ciro</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Google Ads Getirisi</th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Meta Ads Getirisi</th></tr></thead><tbody class="bg-white divide-y divide-gray-200">`; this.state.productData.forEach(product => { tableHTML += `<tr><td class="px-6 py-4 whitespace-nowrap"><div class="flex items-center"><div class="flex-shrink-0 h-10 w-10"><img class="h-10 w-10 rounded-full" src="${product.img}" alt="${product.name}"></div><div class="ml-4"><div class="text-sm font-medium text-gray-900">${product.name}</div></div></div></td><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm font-bold text-gray-900">₺${product.totalRevenue.toLocaleString('tr-TR')}</div></td><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm text-gray-700">₺${product.googleRevenue.toLocaleString('tr-TR')}</div></td><td class="px-6 py-4 whitespace-nowrap"><div class="text-sm text-gray-700">₺${product.metaRevenue.toLocaleString('tr-TR')}</div></td></tr>`; }); tableHTML += `</tbody></table></div>`; container.innerHTML = tableHTML; };
        App.selectCustomer = function(customerId) { this.state.selectedCustomerId = customerId; this.render(); };
        App.openModal = function(recId, title, body) { this.state.currentAction = recId; document.getElementById('modal-title').innerText = title; document.getElementById('modal-body').innerText = body; document.getElementById('confirmation-modal').classList.remove('hidden'); };
        App.closeModal = function() { document.getElementById('confirmation-modal').classList.add('hidden'); };
        App.confirmAction = function() { if (!this.state.currentAction) return; const button = document.querySelector(`#rec-${this.state.currentAction} button`); button.disabled = true; button.innerText = 'İşlem Uygulanıyor...'; this.closeModal(); setTimeout(() => { button.innerText = '✓ Uygulandı'; }, 2000); this.state.currentAction = null; };

        // Uygulamayı başlat
        document.addEventListener('DOMContentLoaded', () => App.init());

    </script>

</body>
</html>
